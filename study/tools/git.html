<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git | 桃子的笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/study/notebook.png">
    <link rel="manifest" href="/study/manifest.json">
    <link rel="apple-touch-icon" href="/study/notebook.png">
    <link rel="mask-icon" href="/study/notebook.png" color="#3eaf7c">
    <meta name="description" content="书山有路勤为径，学海无涯苦作舟">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/notebook.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/study/assets/css/0.styles.84ce4d99.css" as="style"><link rel="preload" href="/study/assets/js/app.cc5e35e0.js" as="script"><link rel="preload" href="/study/assets/js/2.a9b97005.js" as="script"><link rel="preload" href="/study/assets/js/46.8e30d0d7.js" as="script"><link rel="preload" href="/study/assets/js/3.93cabe1e.js" as="script"><link rel="prefetch" href="/study/assets/js/10.23aaa3d7.js"><link rel="prefetch" href="/study/assets/js/11.14cca601.js"><link rel="prefetch" href="/study/assets/js/12.2b7c3440.js"><link rel="prefetch" href="/study/assets/js/13.a4b0ea58.js"><link rel="prefetch" href="/study/assets/js/14.2e48a700.js"><link rel="prefetch" href="/study/assets/js/15.ec06fd7d.js"><link rel="prefetch" href="/study/assets/js/16.c00403ed.js"><link rel="prefetch" href="/study/assets/js/17.4c0bb297.js"><link rel="prefetch" href="/study/assets/js/18.f88beb91.js"><link rel="prefetch" href="/study/assets/js/19.8caf8f63.js"><link rel="prefetch" href="/study/assets/js/20.bfd03857.js"><link rel="prefetch" href="/study/assets/js/21.36bdb315.js"><link rel="prefetch" href="/study/assets/js/22.009cbc5b.js"><link rel="prefetch" href="/study/assets/js/23.63bb79ed.js"><link rel="prefetch" href="/study/assets/js/24.e0546534.js"><link rel="prefetch" href="/study/assets/js/25.3d62bc66.js"><link rel="prefetch" href="/study/assets/js/26.aee25982.js"><link rel="prefetch" href="/study/assets/js/27.ad05c963.js"><link rel="prefetch" href="/study/assets/js/28.c343b29b.js"><link rel="prefetch" href="/study/assets/js/29.a91c9ad1.js"><link rel="prefetch" href="/study/assets/js/30.40a021bf.js"><link rel="prefetch" href="/study/assets/js/31.05b920c9.js"><link rel="prefetch" href="/study/assets/js/32.78c3e461.js"><link rel="prefetch" href="/study/assets/js/33.d6fb5e76.js"><link rel="prefetch" href="/study/assets/js/34.13ad7f97.js"><link rel="prefetch" href="/study/assets/js/35.c9d80528.js"><link rel="prefetch" href="/study/assets/js/36.3b584025.js"><link rel="prefetch" href="/study/assets/js/37.53dbfc3c.js"><link rel="prefetch" href="/study/assets/js/38.ff8ac380.js"><link rel="prefetch" href="/study/assets/js/39.f768fe55.js"><link rel="prefetch" href="/study/assets/js/4.c0a7b8ab.js"><link rel="prefetch" href="/study/assets/js/40.b3e3b313.js"><link rel="prefetch" href="/study/assets/js/41.faf9f29b.js"><link rel="prefetch" href="/study/assets/js/42.6efc2cc0.js"><link rel="prefetch" href="/study/assets/js/43.d00e8476.js"><link rel="prefetch" href="/study/assets/js/44.359a1d4c.js"><link rel="prefetch" href="/study/assets/js/45.919efdc4.js"><link rel="prefetch" href="/study/assets/js/47.e01f05af.js"><link rel="prefetch" href="/study/assets/js/48.8d6414ec.js"><link rel="prefetch" href="/study/assets/js/49.998e30dd.js"><link rel="prefetch" href="/study/assets/js/5.4527858b.js"><link rel="prefetch" href="/study/assets/js/50.05dda865.js"><link rel="prefetch" href="/study/assets/js/51.8bea53a7.js"><link rel="prefetch" href="/study/assets/js/52.118f7d81.js"><link rel="prefetch" href="/study/assets/js/53.ce7f29e8.js"><link rel="prefetch" href="/study/assets/js/54.ce9724bc.js"><link rel="prefetch" href="/study/assets/js/55.9ed46675.js"><link rel="prefetch" href="/study/assets/js/56.e802d2fc.js"><link rel="prefetch" href="/study/assets/js/57.14cbf27b.js"><link rel="prefetch" href="/study/assets/js/58.7d4d25e7.js"><link rel="prefetch" href="/study/assets/js/59.72296911.js"><link rel="prefetch" href="/study/assets/js/6.ef994a19.js"><link rel="prefetch" href="/study/assets/js/60.45a82372.js"><link rel="prefetch" href="/study/assets/js/61.0f21b934.js"><link rel="prefetch" href="/study/assets/js/62.23878218.js"><link rel="prefetch" href="/study/assets/js/63.ac41ce15.js"><link rel="prefetch" href="/study/assets/js/64.626d418e.js"><link rel="prefetch" href="/study/assets/js/65.6e473bd4.js"><link rel="prefetch" href="/study/assets/js/66.1cf5a4d9.js"><link rel="prefetch" href="/study/assets/js/67.832f19a1.js"><link rel="prefetch" href="/study/assets/js/68.f2c8f7ac.js"><link rel="prefetch" href="/study/assets/js/69.4f121cb4.js"><link rel="prefetch" href="/study/assets/js/7.574db714.js"><link rel="prefetch" href="/study/assets/js/8.43051b52.js"><link rel="prefetch" href="/study/assets/js/9.0a4f2a06.js">
    <link rel="stylesheet" href="/study/assets/css/0.styles.84ce4d99.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study/" class="home-link router-link-active"><img src="/study/logo.png" alt="桃子的笔记" class="logo"> <span class="site-name can-hide">桃子的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web前端" class="dropdown-title"><span class="title">web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="web前端" class="mobile-dropdown-title"><span class="title">web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/web/basis/html.html" class="nav-link">
  HTML &amp; CSS
</a></li><li class="dropdown-subitem"><a href="/study/web/basis/variable.html" class="nav-link">
  JavaScript 基础
</a></li><li class="dropdown-subitem"><a href="/study/web/basis/closure.html" class="nav-link">
  三座大山
</a></li><li class="dropdown-subitem"><a href="/study/web/basis/bom.html" class="nav-link">
  web API
</a></li><li class="dropdown-subitem"><a href="/study/web/basis/es6.html" class="nav-link">
  ES6
</a></li></ul></li><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/web/advanced/ts/basis.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/study/web/advanced/vue/basis.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/study/web/advanced/react/basis.html" class="nav-link">
  React
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="服务端" class="dropdown-title"><span class="title">服务端</span> <span class="arrow down"></span></button> <button type="button" aria-label="服务端" class="mobile-dropdown-title"><span class="title">服务端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          语言
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/server/node/koa.html" class="nav-link">
  NodeJS
</a></li><li class="dropdown-subitem"><a href="/study/server/php/basis/basis.html" class="nav-link">
  PHP
</a></li><li class="dropdown-subitem"><a href="/study/server/java/" class="nav-link">
  Java
</a></li><li class="dropdown-subitem"><a href="/study/server/mysql/basis.html" class="nav-link">
  MySql
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/server/server/" class="nav-link">
  服务器相关
</a></li><li class="dropdown-subitem"><a href="/study/server/JWT/" class="nav-link">
  JWT
</a></li><li class="dropdown-subitem"><a href="/study/server/TCP/" class="nav-link">
  TCP/IP
</a></li><li class="dropdown-subitem"><a href="/study/server/socket/" class="nav-link">
  Socket
</a></li><li class="dropdown-subitem"><a href="/study/wechat/" class="nav-link">
  微信相关
</a></li></ul></li><li class="dropdown-item"><h4>
          开发工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/tools/git.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Git
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程" class="dropdown-title"><span class="title">课程</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程" class="mobile-dropdown-title"><span class="title">课程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          拉勾大前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/course/lagou/path1/FP.html" class="nav-link">
  JavaScript 深度剖析
</a></li><li class="dropdown-subitem"><a href="/study/course/lagou/path2/cli.html" class="nav-link">
  前端工程化实战
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/projects/hopesnack.html" class="nav-link">
  希望小卖铺
</a></li><li class="dropdown-item"><!----> <a href="/study/projects/testhub.html" class="nav-link">
  在线刷题
</a></li></ul></div></div><div class="nav-item"><a href="/study/other/偏激.html" class="nav-link">
  其他
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web前端" class="dropdown-title"><span class="title">web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="web前端" class="mobile-dropdown-title"><span class="title">web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/web/basis/html.html" class="nav-link">
  HTML &amp; CSS
</a></li><li class="dropdown-subitem"><a href="/study/web/basis/variable.html" class="nav-link">
  JavaScript 基础
</a></li><li class="dropdown-subitem"><a href="/study/web/basis/closure.html" class="nav-link">
  三座大山
</a></li><li class="dropdown-subitem"><a href="/study/web/basis/bom.html" class="nav-link">
  web API
</a></li><li class="dropdown-subitem"><a href="/study/web/basis/es6.html" class="nav-link">
  ES6
</a></li></ul></li><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/web/advanced/ts/basis.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/study/web/advanced/vue/basis.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/study/web/advanced/react/basis.html" class="nav-link">
  React
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="服务端" class="dropdown-title"><span class="title">服务端</span> <span class="arrow down"></span></button> <button type="button" aria-label="服务端" class="mobile-dropdown-title"><span class="title">服务端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          语言
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/server/node/koa.html" class="nav-link">
  NodeJS
</a></li><li class="dropdown-subitem"><a href="/study/server/php/basis/basis.html" class="nav-link">
  PHP
</a></li><li class="dropdown-subitem"><a href="/study/server/java/" class="nav-link">
  Java
</a></li><li class="dropdown-subitem"><a href="/study/server/mysql/basis.html" class="nav-link">
  MySql
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/server/server/" class="nav-link">
  服务器相关
</a></li><li class="dropdown-subitem"><a href="/study/server/JWT/" class="nav-link">
  JWT
</a></li><li class="dropdown-subitem"><a href="/study/server/TCP/" class="nav-link">
  TCP/IP
</a></li><li class="dropdown-subitem"><a href="/study/server/socket/" class="nav-link">
  Socket
</a></li><li class="dropdown-subitem"><a href="/study/wechat/" class="nav-link">
  微信相关
</a></li></ul></li><li class="dropdown-item"><h4>
          开发工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/tools/git.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Git
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程" class="dropdown-title"><span class="title">课程</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程" class="mobile-dropdown-title"><span class="title">课程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          拉勾大前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/study/course/lagou/path1/FP.html" class="nav-link">
  JavaScript 深度剖析
</a></li><li class="dropdown-subitem"><a href="/study/course/lagou/path2/cli.html" class="nav-link">
  前端工程化实战
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/projects/hopesnack.html" class="nav-link">
  希望小卖铺
</a></li><li class="dropdown-item"><!----> <a href="/study/projects/testhub.html" class="nav-link">
  在线刷题
</a></li></ul></div></div><div class="nav-item"><a href="/study/other/偏激.html" class="nav-link">
  其他
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/study/tools/git.html" aria-current="page" class="active sidebar-link">Git</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/tools/git.html#基本操作" class="sidebar-link">基本操作</a></li><li class="sidebar-sub-header"><a href="/study/tools/git.html#版本控制" class="sidebar-link">版本控制</a></li><li class="sidebar-sub-header"><a href="/study/tools/git.html#分支" class="sidebar-link">分支</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git"><a href="#git" class="header-anchor">#</a> Git</h1> <h2 id="基本操作"><a href="#基本操作" class="header-anchor">#</a> 基本操作</h2> <h3 id="创建版本库"><a href="#创建版本库" class="header-anchor">#</a> 创建版本库</h3> <p>版本库又称为仓库，其实可以简单的理解成就是一个目录。而这个目录下的所有文件都可以被 <code>Git</code> 管理起来。</p> <p><strong>创建一个版本库</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 新建一个文件夹</span>
$ <span class="token function">mkdir</span> newfolder
<span class="token comment"># 进入新建的这个文件夹 </span>
$ <span class="token builtin class-name">cd</span> newfolder
<span class="token comment"># 新建一个 git 仓库 </span>
$ <span class="token function">git</span> init 
<span class="token comment"># 创建成功的输出</span>
-<span class="token operator">&gt;</span> Initialized empty Git repository <span class="token keyword">in</span> /Users/taoziyang/Desktop/projects/git/newfolder/.git/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="把文件添加到版本库"><a href="#把文件添加到版本库" class="header-anchor">#</a> 把文件添加到版本库</h3> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>版本控制系统可以告诉你某个文件每次的改动，比如这次在哪个文件的第几行的第几列新增了一个什么单词。虽然像图片或者视频这种二进制文件也可以交由版本控制系统来管理，但是版本控制系统是无法追踪二进制文件的文件变化的，他只能知道这次和上次的文件大小的对比，具体修改了什么内容是无法知道的。<code>word</code> 文档就是一个二进制文件。</p></div> <p>1、首先我们在上面新建的 <code>newfolder</code> 文件夹下新增一个 <code>readme.md</code> 文件，并写下一些内容</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">mkdir</span> readme.md
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2、然后使用命令将该文件<code>添加</code>到仓库，如果有多个需要提交的文件可多次执行该命令</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> <span class="token function">add</span> readme.md
$ <span class="token function">git</span> <span class="token function">add</span> name.md
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>3、接着再使用命令将文件<code>提交</code>到仓库，后面引号中间的文字为注释，尽量写得有意义些，能为后面准确追溯提供便利。一次<code>commit</code>命令会将之前所有的<code>add</code>命令全部提交。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> commit -m <span class="token string">'新增readme文件'</span>

-<span class="token operator">&gt;</span> <span class="token comment"># 输出，一个文件改动，新增了一行内容</span>
<span class="token punctuation">[</span>master <span class="token punctuation">(</span>root-commit<span class="token punctuation">)</span> be042ef<span class="token punctuation">]</span> new txt
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">1</span> insertion<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> readme.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="版本控制"><a href="#版本控制" class="header-anchor">#</a> 版本控制</h2> <h3 id="查看当前版本库的状态"><a href="#查看当前版本库的状态" class="header-anchor">#</a> 查看当前版本库的状态</h3> <p>我修改了上面的<code>readme.md</code>文件，在里面新增了一句话。这时候可以使用命令查看当前版本库的状态。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> status

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
On branch master
Changes not staged <span class="token keyword">for</span> commit:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="token punctuation">)</span>
  <span class="token punctuation">(</span>use <span class="token string">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes <span class="token keyword">in</span> working directory<span class="token punctuation">)</span>

	modified:   readme.md

no changes added to commit <span class="token punctuation">(</span>use <span class="token string">&quot;git add&quot;</span> and/or <span class="token string">&quot;git commit -a&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>从输出中可以看到当前有一个叫 <code>readme.md</code> 的文件有修改过，但是还没有提交修改。</p> <h3 id="查看文件修改的细节"><a href="#查看文件修改的细节" class="header-anchor">#</a> 查看文件修改的细节</h3> <p>执行该命令可以看到修改的文件具体修改的内容。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> <span class="token function">diff</span> readme.md

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
<span class="token function">diff</span> --git a/readme.txt b/readme.txt
index 13a93de<span class="token punctuation">..</span>ffa1b44 <span class="token number">100644</span>
--- a/readme.txt
+++ b/readme.txt
@@ -1 +1,3 @@
-测试测试测试测试
<span class="token punctuation">\</span> No newline at end of <span class="token function">file</span>
+测试测试测试测试
+
+这又是一行测试
<span class="token punctuation">\</span> No newline at end of <span class="token function">file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>从输出中可以看到新增了一行内容。</p> <p>这时候可以使用之前的<code>add</code>命令将文件添加到版本库，然后使用<code>status</code>命令查看当前版本库的状态。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> <span class="token function">add</span> readme.md
$ <span class="token function">git</span> status

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
On branch master
Changes to be committed:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="token punctuation">)</span>

	modified:   readme.md
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>输出中可以看到，<code>readme.md</code>将要被提交</p> <p>然后使用<code>commit</code>命令将文件提交到版本库，然后再次使用<code>status</code>命令查看当前版本库的状态。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> commit -m <span class="token string">'新增测试内容'</span>

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
<span class="token punctuation">[</span>master e475afc<span class="token punctuation">]</span> <span class="token function">add</span> distributed
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">1</span> insertion<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">1</span> deletion<span class="token punctuation">(</span>-<span class="token punctuation">)</span>

$ <span class="token function">git</span> status

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
On branch master
nothing to commit, working tree clean
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><code>status</code>命令的输出中可以看到，已经没有文件要提交了，工作目录是干净的。说明刚才的文件已经提交上去了。</p> <h3 id="查看-git-的-log"><a href="#查看-git-的-log" class="header-anchor">#</a> 查看 git 的 log</h3> <p>使用一下命令即可查看 <code>git</code> 的 <code>log</code> 日志</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>但是上面这种方法会有一个问题，就是会输出非常长的一串，如果你只是想查询 <code>commit</code> 编号的话可以在 <code>log</code> 后添加一个参数。输出的内容里面前面那些看似乱码是 <code>commit</code> 的ID，一串由SHA1计算出来的非常大的数字，用十六进制表示。后面是你提交的时候写的注释。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> log --pretty<span class="token operator">=</span>oneline

-<span class="token operator">&gt;</span> <span class="token comment">#输出</span>
b128fee08cc9e4d0626186ae554c387ad2e5af60 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> 第三次测试
7d1c0059f941a601b245a9e8383805dd38ea51e7 第二次测试
32e6487ef89d4d784ec191ab07c68d559d937da5 新增测试一行
be042ef9b8b2d01265a6eddf16b4e21014022faf new txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="版本回退"><a href="#版本回退" class="header-anchor">#</a> 版本回退</h3> <h4 id="如何回退到上一个版本"><a href="#如何回退到上一个版本" class="header-anchor">#</a> 如何回退到上一个版本？</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> reset --hard HEAD^
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>前面的参数都是标准参数，只有最后一个 <code>HEAD</code> 。<br> <code>git</code> 里的 <code>HEAD</code> 其实就是指针。<code>HEAD</code> 指向哪个 <code>commit</code>， 就代表当前是哪个版本。<br>
而 <code>HEAD</code> 后面跟着的 <code>^</code> 符号意思就是表示上个版本，如果要回退到上上个版本，那就是 <code>^^</code> 两个符号。<br>
如果是一个很大的数字可以使用以下命令。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> reset --hard HEAD~100 <span class="token comment"># 100 就是指前一百个版本</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="其实我们可以指定-commit-版本号进行回退。"><a href="#其实我们可以指定-commit-版本号进行回退。" class="header-anchor">#</a> 其实我们可以指定 <code>commit</code> 版本号进行回退。</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 先查询确定要回退的版本号</span>
$ <span class="token function">git</span> log

<span class="token comment"># 确认版本号后执行命令</span>
$ <span class="token function">git</span> reset --hard 32e6487ef89d4d784ec191ab07c68d559d937da5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>后面的版本号可以不全部填写，只复制前几位也是可以的，<code>git</code> 会自动在当前版本库内匹配。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>需要注意的是，执行版本回退命令同时会让 <code>log</code> 日志也回退，导致我们使用 <code>log</code> 命令就无法查看到我们回退之前，即对于现在来说未来的那些版本号。</p></div> <p>为了解决这个问题，你可以向上翻找之前的 <code>commit</code> 版本号，或者执行下面这个命令。这个命令会记录下你每一次命令和每一个 <code>commit</code> 版本号。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> reflog

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
b128fee <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> HEAD@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>: reset: moving to b128fee08
7d1c005 HEAD@<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>: reset: moving to HEAD^
b128fee <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> HEAD@<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span>: commit: 第三次测试
7d1c005 HEAD@<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span>: commit: 第二次测试
32e6487 HEAD@<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span>: commit: 新增测试一行
be042ef HEAD@<span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span>: commit <span class="token punctuation">(</span>initial<span class="token punctuation">)</span>: new txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>所以一定要写清楚每一条 <code>commit</code> 注释，特别是有比较重要改动的时候！</p></div> <h3 id="git-工作区、暂存区"><a href="#git-工作区、暂存区" class="header-anchor">#</a> Git 工作区、暂存区</h3> <p>首先先看一张图
<img src="/study/tools/git/git-stage.jpg"></p> <ul><li>工作区是指你 <code>git init</code> 的那个根目录，用来存放你所有的代码。</li> <li>工作区内有一个隐藏的文件夹 <code>.git</code> ，这个是 <code>git</code> 版本库，用来存放所有 <code>git</code> 相关的内容。</li> <li>版本库内有一个称为 <code>stage</code> 或者 <code>index</code> 的暂存区，用来暂存从工作区 <code>add</code> 提交上来的内容。</li> <li>版本库内还有分支，而在 <code>git init</code> 的时候就会新建一个默认主分支 <code>master</code>。</li> <li><code>HEAD</code> 是指针，他的指向就是当前的分支。</li> <li><code>commit</code> 命令就是将 <code>stage</code> 内所有的内容提交到当前分支。</li> <li>每次修改，如果不使用 <code>add</code> 命令将内容提交到 <code>stage</code> 暂存区，那就不会加入到 <code>commit</code> 中。</li></ul> <h3 id="撤销修改"><a href="#撤销修改" class="header-anchor">#</a> 撤销修改</h3> <p>该命令可以撤销修改</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> checkout -- readme.md
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>撤销修改会有两种情况</p> <ul><li>你有修改，但是还没有提交到暂存区，那么撤销修改后工作区的内容会和版本库内完全一致。</li> <li>你有修改，已经提交到暂存区，且又修改了内容，那么撤销修改后工作区的内容就会回到你上一次添加暂存区后的状态。</li></ul> <p>但是这个撤销好像没什么用啊！我已经提交到暂存区的内容该怎么撤回？<br>
这时候就用到下面这个命令了。他可以将暂存区的内容重新扔回工作区</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> reset HEAD readme.md
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后再使用 <code>checkout</code> 那条命令就可以完全撤回了。</p> <p>你过你已经把内容提交到分支内了该怎么办？往上翻，上面有版本回退！</p> <h3 id="关联远程库"><a href="#关联远程库" class="header-anchor">#</a> 关联远程库</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 关联</span>
<span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/lambortao/gitstudy.git

<span class="token comment"># 第一次提交</span>
<span class="token function">git</span> push -u origin master

<span class="token comment"># 以后提交</span>
<span class="token function">git</span> push origin master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>如果远程仓库是空的，那在我们第一次提交的时候要加上一个 <code>-u</code> 参数，他的意思是 <code>git</code> 会把本地 <code>master</code> 分支的内容提交到远程 <code>master</code> 分支，并且会将他们两个关联起来，在以后推送或者拉取的时候就可以简化命令不加这个 <code>-u</code> 了。</p> <h3 id="克隆远程库"><a href="#克隆远程库" class="header-anchor">#</a> 克隆远程库</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> clone https://github.com/lambortao/gitstudy.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="分支"><a href="#分支" class="header-anchor">#</a> 分支</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>分支就是在版本库中新建一个属于自己的版本库，这样既不会影响到主分支 <code>master</code> 的代码，也不用承担不能提交到 <code>master</code> 带来的丢失代码的风险。在分支的代码编写完毕后，就可以直接合并到主分支。</p></div> <p><code>Git</code> 提交的过程就像是一条时间线，而这条时间线就是分支。<code>git</code> 默认会创建一条主时间线，就是 <code>master</code> 分支。每次提交，时间线就会前进一步，就是分支向前前进一步。
<br> <br>
但是我们有时候会需要开发一个新的功能，而又不想这个新功能影响 <code>master</code> 分支。那这个时候就需要新建分支去完成这个新的功能。</p> <h5 id="新建一个-dev-分支-并使用-b-参数切换过去"><a href="#新建一个-dev-分支-并使用-b-参数切换过去" class="header-anchor">#</a> 新建一个 <code>dev</code> 分支，并使用 <code>-b</code> 参数切换过去</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> checkout -b dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>执行了上面这个操作后，<code>git</code> 就会新建出这个分支，并且将 <code>HEAD</code> 指针指向 <code>dev</code> 分支。<br>
这时候再次提交内容的话，<code>dev</code> 分支就会脱离原本的 <code>master</code> 分支的时间线，走自己的道路。而 <code>master</code> 分支保存不变。
<br> <br></p> <p>在你完成这条分支的任务后，你可以把它合并到 <code>master</code> 分支上面去。</p> <h5 id="查看分支命令-星号代表当前分支"><a href="#查看分支命令-星号代表当前分支" class="header-anchor">#</a> 查看分支命令，星号代表当前分支</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> branch

-<span class="token operator">&gt;</span> <span class="token comment">#输出</span>
  dev
* master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>先切换到 <code>master</code> 分支，再执行命令。</p> <h5 id="合并分支"><a href="#合并分支" class="header-anchor">#</a> 合并分支</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> merge dev

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
Already up to date.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>git</code> 合并分支的速度非常的快，因为他并没有合并任何文件，而只是把滞后的 <code>master</code> 分支直接指向了 <code>dev</code> 分支。这种合并方式又叫 <code>fast forward</code>，他有一个问题，就是删除这条分支后就看不到这条分支的任何信息了。
<br></p> <p>这时候可以加一个参数禁用 <code>fast forward</code>。</p> <h5 id="禁用-fast-forward"><a href="#禁用-fast-forward" class="header-anchor">#</a> 禁用 <code>fast forward</code></h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> merge --no--ff -m <span class="token string">'合并分支'</span> dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>--no--ff</code> 就会禁用 <code>fast forward</code> 模式，在禁用的时候合并就会新增一个 <code>commit</code> 所以要加 <code>-m</code> 参数写注释。
<br></p> <p>合并分支后你就可以删掉这条分支了。</p> <h5 id="删除分支"><a href="#删除分支" class="header-anchor">#</a> 删除分支</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> branch -d dev

-<span class="token operator">&gt;</span> <span class="token comment">#输出</span>
Deleted branch dev <span class="token punctuation">(</span>was 54a64db<span class="token punctuation">)</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>下图大致展示了两条分支的时间线。其中左侧的蓝色线是 <code>master</code> 分支。从中间分叉出去的黄色线就是 <code>dev</code> 分支，可以看到，在黄色分支提交的那两次里，<code>master</code> 分支是没有提交的。最后 <code>dev</code> 分支合并到了 <code>master</code> 分支。
<img src="/study/tools/git/branch.png"></p> <h5 id="切换分支的-switch-命令"><a href="#切换分支的-switch-命令" class="header-anchor">#</a> 切换分支的 <code>switch</code> 命令</h5> <p>相对于 <code>checkout</code> ，<code>switch</code> 从语义上来说更贴切切换分支的概念。</p> <h5 id="使用-switch-命令生成并切换到-dev-分支"><a href="#使用-switch-命令生成并切换到-dev-分支" class="header-anchor">#</a> 使用 <code>switch</code> 命令生成并切换到 <code>dev</code> 分支</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> switch -c dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="使用-switch-命令切换分支"><a href="#使用-switch-命令切换分支" class="header-anchor">#</a> 使用 <code>switch</code> 命令切换分支</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> switch master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="冲突"><a href="#冲突" class="header-anchor">#</a> 冲突</h4> <p>如果你在两个不同的分支修改了同样的内容，这时候再去提交或者合并的话，就出现代码冲突的提示。这时候就要手动的去删除代码后再去提交。
<br></p> <p>使用 <code>git log</code> 命令可以查看冲突文件的情况。
也可以使用以下命令查看分支合并图。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> log --graph

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>

*   commit 4b227a35d64e7b26be48f89049ea8fe2c037daf3 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master, origin/master<span class="token punctuation">)</span>
<span class="token operator">|</span><span class="token punctuation">\</span>  Merge: 2fd8de3 54a64db
<span class="token operator">|</span> <span class="token operator">|</span> Author: Tao Tao <span class="token operator">&lt;</span>lambortao@gmail.com<span class="token operator">&gt;</span>
<span class="token operator">|</span> <span class="token operator">|</span> Date:   Sun Mar <span class="token number">1</span> <span class="token number">22</span>:31:43 <span class="token number">2020</span> +0800
<span class="token operator">|</span> <span class="token operator">|</span> 
<span class="token operator">|</span> <span class="token operator">|</span>     修复冲突
<span class="token operator">|</span> <span class="token operator">|</span> 
<span class="token operator">|</span> * commit 54a64dbb985ad91417050b83d524d0f24e089ca8
<span class="token operator">|</span> <span class="token operator">|</span> Author: Tao Tao <span class="token operator">&lt;</span>lambortao@gmail.com<span class="token operator">&gt;</span>
<span class="token operator">|</span> <span class="token operator">|</span> Date:   Sun Mar <span class="token number">1</span> <span class="token number">22</span>:28:20 <span class="token number">2020</span> +0800
<span class="token operator">|</span> <span class="token operator">|</span> 
<span class="token operator">|</span> <span class="token operator">|</span>     第二次修改
<span class="token operator">|</span> <span class="token operator">|</span> 
<span class="token operator">|</span> * commit 07f6f233b11ba5a87c4f8f7cd5ef71d92e554d91
<span class="token operator">|</span> <span class="token operator">|</span> Author: Tao Tao <span class="token operator">&lt;</span>lambortao@gmail.com<span class="token operator">&gt;</span>
<span class="token operator">|</span> <span class="token operator">|</span> Date:   Sun Mar <span class="token number">1</span> <span class="token number">22</span>:25:37 <span class="token number">2020</span> +0800
<span class="token operator">|</span> <span class="token operator">|</span> 
<span class="token operator">|</span> <span class="token operator">|</span>     dev分支
<span class="token operator">|</span> <span class="token operator">|</span> 
* <span class="token operator">|</span> commit 2fd8de331d9729ce13e03c99af6eb850217318b8
<span class="token operator">|</span>/  Author: Tao Tao <span class="token operator">&lt;</span>lambortao@gmail.com<span class="token operator">&gt;</span>
<span class="token operator">|</span>   Date:   Sun Mar <span class="token number">1</span> <span class="token number">22</span>:26:41 <span class="token number">2020</span> +0800
<span class="token operator">|</span>   
<span class="token operator">|</span>       主分支上的修改

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">分支管理策略</p> <p>在一般情况下，<code>master</code> 分支应该是非常稳定的，只保留生产版本的代码。而我们所有的开发工作都应该是在 <code>dev</code> 分支上，而我们每个人又都会有自己的分支。<br>我们要做的工作就是在自己的分支上干活，完成后合并到 <code>dev</code> 分支，需要上线的时候，再将 <code>dev</code> 分支合并到 <code>master</code> 分支。</p></div> <h3 id="git-的隐藏代码功能"><a href="#git-的隐藏代码功能" class="header-anchor">#</a> git 的隐藏代码功能</h3> <p>假设有这样一个场景，你本身在自己的分支上做自己的工作，这时突然来了一个任务，去修复 <code>master</code> 分支上的一个 <code>bug</code>，这是一个紧急任务，你无法在需要完成自己手上的任务后再去修复，但是这时候又不好去提交 <code>commit</code>，因为你还没有完成你现在的这个工作。这时候你就可以使用 <code>git stash</code> 命令将你当前的修改都隐藏起来。</p> <h5 id="隐藏修改"><a href="#隐藏修改" class="header-anchor">#</a> 隐藏修改</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> stash

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
Saved working directory and index state WIP on de: 4b227a3 修复冲突
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这时候你再使用 <code>status</code> 命令查看，会发现工作区是干净的，你可以安心离开当前分支去完成紧急任务。
<br></p> <p>当你完成紧急任务再切换到自己的分支后，可以使用命令查看被异常的任务。</p> <h5 id="查看隐藏的修改"><a href="#查看隐藏的修改" class="header-anchor">#</a> 查看隐藏的修改</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> stash list

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
stash@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>: WIP on de: 4b227a3 修复冲突
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用以下命令恢复被隐藏的修改。</p> <h5 id="恢复被隐藏的修改"><a href="#恢复被隐藏的修改" class="header-anchor">#</a> 恢复被隐藏的修改</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> stash pop

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
On branch de
Changes not staged <span class="token keyword">for</span> commit:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="token punctuation">)</span>
  <span class="token punctuation">(</span>use <span class="token string">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes <span class="token keyword">in</span> working directory<span class="token punctuation">)</span>

	modified:   readme.txt

no changes added to commit <span class="token punctuation">(</span>use <span class="token string">&quot;git add&quot;</span> and/or <span class="token string">&quot;git commit -a&quot;</span><span class="token punctuation">)</span>
Dropped refs/stash@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">(</span>06cade40beaebcdc8334dd1f31fdf66ac4c806ac<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>你还可以多次使用 <code>git stash</code> 命令来隐藏多个代码，在 <code>git stash list</code> 的时候会看到每次 <code>stash</code> 会有个代号，然后使用另外一个命令恢复指定的隐藏代码。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> stash apply stash@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>但是这个命令并不会在 <code>stash list</code> 中删除这条信息，你需要手动删除他。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> stash drop stash@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="复制修改"><a href="#复制修改" class="header-anchor">#</a> 复制修改</h4> <p>假设你在 <code>master</code> 分支上修复了一个 <code>bug</code> ，因为 <code>dev</code> 是早期映射的 <code>master</code> 的代码，所以 <code>dev</code> 上有同样的 <code>bug</code>，这时候可以找到你修复 <code>master</code> 分支上时提交的那条 <code>commit</code> ID，然后执行命令。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 首先切换到你要修复问题的分支</span>
$ <span class="token function">git</span> checkout dev 

<span class="token comment"># 然后复制那条修复问题的 commit ID</span>
$ <span class="token function">git</span> cherry-pick 4c805e2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>git</code> 会将你在 <code>master</code> 上写的那段代码复制到 <code>dev</code> 上来，同时在 <code>dev</code> 上新生成一个 <code>commit</code>。</p> <h4 id="删除一个没有合并的分支"><a href="#删除一个没有合并的分支" class="header-anchor">#</a> 删除一个没有合并的分支</h4> <p>在开发一个不确定性很高的功能的时候，最好新建一个分支。如果这个功能不要了。就可以直接删除这个分支，而不影响到其他的东西。直接删除分支，比找着代码一行行的删除要方便的多。但是 <code>git</code> 不允许删除一个未合并的分支，如果要强行删除的话需要带上大写的 <code>-D</code> 参数。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> branch -D dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="操作远程分支"><a href="#操作远程分支" class="header-anchor">#</a> 操作远程分支</h3> <h5 id="查看远程分支"><a href="#查看远程分支" class="header-anchor">#</a> 查看远程分支</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> remote

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
origin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="查看远程分支详细信息"><a href="#查看远程分支详细信息" class="header-anchor">#</a> 查看远程分支详细信息</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> remote -v

-<span class="token operator">&gt;</span> <span class="token comment"># 输出</span>
origin	https://github.com/lambortao/gitstudy.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
origin	https://github.com/lambortao/gitstudy.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果没有输出说明你没有权限。</p> <h5 id="推送修改到远程分支"><a href="#推送修改到远程分支" class="header-anchor">#</a> 推送修改到远程分支</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> push origin master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>从线上克隆仓库的时候，默认是指克隆 <code>master</code> 分支的。</p></div> <h5 id="克隆其他远程分支到本地"><a href="#克隆其他远程分支到本地" class="header-anchor">#</a> 克隆其他远程分支到本地</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> checkout -b dev origin/dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这里 <code>-b dev</code> 意思是在本地创建并切换到 <code>dev</code> 分支，<code>origin/dev</code> 的意思是和远程仓库的 <code>dev</code> 分支做关联。
<br></p> <p>在提交本地代码到远程库前，需要先将远程库的代码拉取到本地</p> <h5 id="拉取远程库的代码"><a href="#拉取远程库的代码" class="header-anchor">#</a> 拉取远程库的代码</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> pull
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果 <code>git pull</code> 失败，提示 <code>no tracking information</code>，那就说明本地仓库和远程仓库的分支没有做关联。</p> <h5 id="将本地仓库的分支和远程仓库分支做关联"><a href="#将本地仓库的分支和远程仓库分支做关联" class="header-anchor">#</a> 将本地仓库的分支和远程仓库分支做关联</h5> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">git</span> branch --set-upstream-to<span class="token operator">=</span>origin/<span class="token operator">&lt;</span>branch<span class="token operator">&gt;</span> dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">4/17/2021, 12:56:07 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/study/assets/js/app.cc5e35e0.js" defer></script><script src="/study/assets/js/2.a9b97005.js" defer></script><script src="/study/assets/js/46.8e30d0d7.js" defer></script><script src="/study/assets/js/3.93cabe1e.js" defer></script>
  </body>
</html>
